<hlm-dialog [state]="_isDialogOpen() ? 'open' : 'closed'" (closed)="closeDialog()">
  <ng-content />
  <hlm-dialog-content *brnDialogContent="let ctx" class="bg-zinc-800">
    <hlm-dialog-header>
      <h3 brnDialogTitle hlm class="font-bold">{{ isEditing() ? 'Edit' : 'Add' }} subscription</h3>
    </hlm-dialog-header>
    <form
      class="flex flex-col gap-4 mt-4"
      #form="ngForm"
      (submit)="saveChanges(form)"
      id="subscription-form"
    >
      <div class="grid w-full max-w-sm items-center gap-3">
        <label hlmLabel for="service-url">Service url <span class="text-red-500">*</span></label>
        <input
          hlmInput
          type="text"
          id="service-url"
          placeholder="https://amazon.com"
          required
          name="serviceUrl"
          [(ngModel)]="subscription.serviceUrl"
        />
      </div>
      <div class="grid w-full max-w-sm items-center gap-3">
        <label hlmLabel for="subcription-name">Subscription name</label>
        <input
          hlmInput
          type="text"
          id="subcription-name"
          placeholder="Amazon prime"
          name="name"
          [(ngModel)]="subscription.name"
        />
      </div>
      <div class="grid w-full max-w-sm items-center gap-3">
        <label hlmLabel for="subscription-amount"
          >Subscription amount <span class="text-red-500">*</span></label
        >
        <input
          hlmInput
          type="number"
          id="subscription-amount"
          min="0"
          placeholder="10.99"
          required
          name="amount"
          [(ngModel)]="subscription.amount"
        />
      </div>
      <div class="grid w-full max-w-sm items-center gap-3">
        <label hlmLabel for="subscription-amount">Renews every ... month/s</label>
        <input
          hlmInput
          type="number"
          id="subscription-amount"
          placeholder="1"
          min="1"
          max="12"
          value="1"
          name="renewsEvery"
          [(ngModel)]="subscription.renewsEvery"
        />
      </div>
    </form>
    <hlm-dialog-footer class="mt-4">
      <button hlmBtn variant="outline" class="cursor-pointer" brnDialogClose>Cancel</button>
      <button hlmBtn type="submit" form="subscription-form" class="cursor-pointer">
        {{ isEditing() ? 'Save changes' : 'Add subscription' }}
      </button>
    </hlm-dialog-footer>
  </hlm-dialog-content>
</hlm-dialog>
